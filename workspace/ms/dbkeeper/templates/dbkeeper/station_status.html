{% extends "dbkeeper/base.html" %}

{% block title  %}Station Status{% endblock %}
{% block header %}Station Status{% endblock %}

{% block extra_javascript %}
<script src="/static/dbkeeper/jquery-2.1.4.js"></script>
{% endblock %}

{% block body_start %}
<script type="text/javascript">
//TODO:  This is just sample code.  Need to modify it to do what we want.
// Use a named immediately-invoked function expression.
(function worker() {
   // Initiate an Ajax call to retrieve status information
   $.getJSON('/piservice/station_status/', function(data) {
      // Handle the data returned from the Ajax call
      $('#stationTable').html(data);
      // Now that we've completed the request, schedule the next one
      setTimeout(worker, 5000);
   });
})();  // Make the initial call

$(document).ready(function (event) {});
</script>
{% endblock %}

{% block main %}
<table id="stationTable">
    <tr><th>Station ID</th><th>Status</th></tr>
    <tr><td class="stationIDCell"></td><td class="stationStatusCell"></td></tr>
</table>
{% endblock %}
